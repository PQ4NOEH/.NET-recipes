USE [VisionLocalIntegrationTests]

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Country'))
BEGIN
	DROP TABLE [dbo].[Country]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Currency'))
BEGIN
	DROP TABLE [dbo].[Currency]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'DocumentType'))
BEGIN
	DROP TABLE [dbo].[DocumentType]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'FreeSessionReason'))
BEGIN
	DROP TABLE [dbo].[FreeSessionReason]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Printer'))
BEGIN
	DROP TABLE [dbo].[Printer]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Region'))
BEGIN
	DROP TABLE [dbo].[Region]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Tax'))
BEGIN
	DROP TABLE [dbo].[Tax]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Title'))
BEGIN
	DROP TABLE [dbo].[Title]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'AuditLogon'))
BEGIN
	DROP TABLE [dbo].[AuditLogon]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Appointment'))
BEGIN
	DROP TABLE [dbo].[Appointment]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Diagnosis'))
BEGIN
	DROP TABLE [dbo].[Diagnosis]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'SessionDevice'))
BEGIN
	DROP TABLE [dbo].[SessionDevice]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Session'))
BEGIN
	DROP TABLE [dbo].[Session]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'ServicePrice'))
BEGIN
	DROP TABLE [dbo].[ServicePrice]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'ServiceLevel'))
BEGIN
	DROP TABLE [dbo].[ServiceLevel]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Service'))
BEGIN
	DROP TABLE [dbo].[Service]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'ServiceType'))
BEGIN
	DROP TABLE [dbo].[ServiceType]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Device'))
BEGIN
	DROP TABLE [dbo].[Device]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'DeviceGroup'))
BEGIN
	DROP TABLE [dbo].[DeviceGroup]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'DeviceType'))
BEGIN
	DROP TABLE [dbo].[DeviceType]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'MachinePrinter'))
BEGIN
	ALTER TABLE [dbo].[MachinePrinter] DROP CONSTRAINT [FK_dbo.MachinePrinter_dbo.Machine_MachineId]
	DROP TABLE [dbo].[MachinePrinter]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Machine'))
BEGIN
	ALTER TABLE [dbo].[Machine] DROP CONSTRAINT [FK_dbo.Machine_dbo.MachineGroup_MachineGroupId]
	DROP TABLE [dbo].[Machine]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'MachineGroup'))
BEGIN
	DROP TABLE [dbo].[MachineGroup]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'MediaDeviceGroup'))
BEGIN
	ALTER TABLE [dbo].[MediaDeviceGroup] DROP CONSTRAINT [FK_dbo.MediaDeviceGroup_dbo.Media_MediaId]
	DROP TABLE [dbo].[MediaDeviceGroup]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'MediaMachine'))
BEGIN
	ALTER TABLE [dbo].[MediaMachine] DROP CONSTRAINT [FK_dbo.MediaMachine_dbo.Media_MediaId]
	DROP TABLE [dbo].[MediaMachine]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'MediaServiceLevel'))
BEGIN
	ALTER TABLE [dbo].[MediaServiceLevel] DROP CONSTRAINT [FK_dbo.MediaServiceLevel_dbo.Media_MediaId]
	DROP TABLE [dbo].[MediaServiceLevel]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Media'))
BEGIN
	DROP TABLE [dbo].[Media]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Country'))
BEGIN
	DROP TABLE [dbo].[Country]
END


IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Partner'))
BEGIN
	--ALTER TABLE [dbo].[Partner] DROP CONSTRAINT [FK_dbo.Partner_dbo.PartnerChain_PartnerChainId]
	DROP TABLE [dbo].[Partner]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'PartnerChain'))
BEGIN
	DROP TABLE [dbo].[PartnerChain]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'PersonLocation'))
BEGIN
	ALTER TABLE [dbo].[PersonLocation] DROP CONSTRAINT [FK_dbo.PersonLocation_dbo.Person_PersonId]
	DROP TABLE [dbo].[PersonLocation]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Patient'))
BEGIN
	ALTER TABLE [dbo].[Patient] DROP CONSTRAINT [FK_dbo.Patient_dbo.User_UserId]
	ALTER TABLE [dbo].[Patient] DROP CONSTRAINT [FK_dbo.Patient_dbo.Person_PersonId]
	DROP TABLE [dbo].[Patient]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Person'))
BEGIN
	DROP TABLE [dbo].[Person]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'User'))
BEGIN
	DROP TABLE [dbo].[User]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Location'))
BEGIN
	DROP TABLE [dbo].[Location]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'GatewayByCountry'))
BEGIN
	ALTER TABLE [dbo].[GatewayByCountry] DROP CONSTRAINT [FK_dbo.GatewayByCountry_dbo.Gateway_GatewayId]
	DROP TABLE [dbo].[GatewayByCountry]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Gateway'))
BEGIN
	DROP TABLE [dbo].[Gateway]	
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'AnswerValues'))
BEGIN
	ALTER TABLE [dbo].[AnswerValues] DROP CONSTRAINT [FK_dbo.AnswerValues_dbo.Answer_AnswerId]
	DROP TABLE [dbo].[AnswerValues]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Answer'))
BEGIN
	DROP TABLE [dbo].[Answer]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'PaymentMpos'))
BEGIN
	ALTER TABLE [dbo].[PaymentMpos] DROP CONSTRAINT [FK_dbo.PaymentMpos_dbo.Payment_Id]
	DROP TABLE [dbo].[PaymentMpos]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'PaymentTaxTransaction'))
BEGIN
	ALTER TABLE [dbo].[PaymentTaxTransaction] DROP CONSTRAINT [FK_dbo.PaymentTaxTransaction_dbo.PaymentTransaction_PaymentTransactionId]
	DROP TABLE [dbo].[PaymentTaxTransaction]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'PaymentTransaction'))
BEGIN
	ALTER TABLE [dbo].[PaymentTransaction] DROP CONSTRAINT [FK_dbo.PaymentTransaction_dbo.Payment_PaymentId]
	ALTER TABLE [dbo].[PaymentTransaction] DROP CONSTRAINT [FK_dbo.PaymentTransaction_dbo.Payable_PayableId]
	DROP TABLE [dbo].[PaymentTransaction]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Payment'))
BEGIN
	DROP TABLE [dbo].[Payment]
END
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Payable'))
BEGIN
	DROP TABLE [dbo].[Payable]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Disclaimer'))
BEGIN
	DROP TABLE [dbo].[Disclaimer]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'DavalorDisclaimer'))
BEGIN
	ALTER TABLE [dbo].[DavalorDisclaimer] DROP CONSTRAINT [FK_dbo.DavalorDisclaimer_dbo.Signature_SignatureId]
	DROP TABLE [dbo].[DavalorDisclaimer]
END

IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND  TABLE_NAME = 'Signature'))
BEGIN
	DROP TABLE [dbo].[Signature]
END